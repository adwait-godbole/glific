<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.28.4">
    <meta name="project" content="Glific v4.6.8">

    <title>Glific.Tags â€” Glific v4.6.8</title>
    <link rel="stylesheet" href="dist/elixir-b6f1ed5df9b1d42a7309.css" />

    <script src="dist/sidebar_items-45c50d407b.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-bd1cb213813bf4825aa2.js"></script>


  </head>
  <body data-type="modules">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">


<section class="sidebar">
  <button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar">
    <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
  </button>

  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <i class="ri-search-2-line" aria-hidden="true" title="Submit search"></i>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <i class="ri-close-line ri-lg" aria-hidden="true" title="Cancel search"></i>
    </button>
    <label class="search-label">
      <p class="sr-only">Search</p>
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">

    <div class="sidebar-projectDetails">
      <a href="https://glific.io" class="sidebar-projectName" translate="no">
Glific
      </a>
      <strong class="sidebar-projectVersion" translate="no">
        v4.6.8
      </strong>
    </div>
    <ul class="sidebar-listNav">
      <li><a id="extras-list-link" href="#full-list">Pages</a></li>

        <li><a id="modules-list-link" href="#full-list">Modules</a></li>


    </ul>
  </div>

  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>
<button class="settings display-settings">
  <i class="ri-settings-3-line"></i>
  <span class="sr-only">Settings</span>
</button>


    <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L1" title="View Source" class="view-source" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>

  <span translate="no">Glific.Tags</span> 
  <small class="app-vsn" translate="no">(Glific v4.6.8)</small>

</h1>


  <section id="moduledoc">
<p>The Tags Context, which encapsulates and manages tags and the related join tables.</p>
  </section>


  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
        <span class="sr-only">Link to this section</span>
      </a>
      Summary
    </h1>

  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#change_contact_tag/2" translate="no">change_contact_tag(contact_tag, attrs \\ %{})</a>

        </div>

          <div class="summary-synopsis"><p>Returns an <code class="inline">%Ecto.Changeset{}</code> for tracking contact changes.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#change_message_tag/2" translate="no">change_message_tag(message_tag, attrs \\ %{})</a>

        </div>

          <div class="summary-synopsis"><p>Returns an <code class="inline">%Ecto.Changeset{}</code> for tracking message changes.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#change_tag/2" translate="no">change_tag(tag, attrs \\ %{})</a>

        </div>

          <div class="summary-synopsis"><p>Returns an <code class="inline">%Ecto.Changeset{}</code> for tracking tag changes.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#count_tags/1" translate="no">count_tags(args)</a>

        </div>

          <div class="summary-synopsis"><p>Return the count of tags, using the same filter as list_tags</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#create_contact_tag/1" translate="no">create_contact_tag(attrs)</a>

        </div>

          <div class="summary-synopsis"><p>Creates a contact.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#create_message_tag/1" translate="no">create_message_tag(attrs)</a>

        </div>

          <div class="summary-synopsis"><p>Creates a message tag</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#create_tag/1" translate="no">create_tag(attrs)</a>

        </div>

          <div class="summary-synopsis"><p>Creates a tag.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#create_template_tag/1" translate="no">create_template_tag(attrs \\ %{})</a>

        </div>

          <div class="summary-synopsis"><p>Creates a template tag.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#delete_contact_tag_by_ids/2" translate="no">delete_contact_tag_by_ids(contact_id, tag_ids)</a>

        </div>

          <div class="summary-synopsis"><p>Deletes a list of contact tags, each tag attached to the same contact</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#delete_message_tag_by_ids/3" translate="no">delete_message_tag_by_ids(message_id, tag_ids, organization_id)</a>

        </div>

          <div class="summary-synopsis"><p>In Join tables we rarely use the table id. We always know the object ids
and hence more convenient to delete an entry via its object ids.
We will generalize this function and move it to Repo.ex when we get a better
handle on how to do so :)</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#delete_tag/1" translate="no">delete_tag(tag)</a>

        </div>

          <div class="summary-synopsis"><p>Deletes a tag.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#delete_template_tag_by_ids/2" translate="no">delete_template_tag_by_ids(template_id, tag_ids)</a>

        </div>

          <div class="summary-synopsis"><p>Deletes a list of template tags, each tag attached to the same template</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_all_children/2" translate="no">get_all_children(shortcode, organization_id)</a>

        </div>

          <div class="summary-synopsis"><p>Given a shortcode of tag, retrieve all the children for the tag</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_contact_tag!/1" translate="no">get_contact_tag!(id)</a>

        </div>

          <div class="summary-synopsis"><p>Gets a single contact.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_message_tag!/1" translate="no">get_message_tag!(id)</a>

        </div>

          <div class="summary-synopsis"><p>Gets a single message.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_tag!/1" translate="no">get_tag!(id)</a>

        </div>

          <div class="summary-synopsis"><p>Gets a single tag.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#include_all_ancestors/1" translate="no">include_all_ancestors(tag_id)</a>

        </div>

          <div class="summary-synopsis"><p>Given a tag id or a list of tag ids, retrieve all the ancestors for the list_tags</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#keyword_map/1" translate="no">keyword_map(map)</a>

        </div>

          <div class="summary-synopsis"><p>Converts all tag kewords into the map where keyword is the key and tag id is the value</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#list_tags/1" translate="no">list_tags(args)</a>

        </div>

          <div class="summary-synopsis"><p>Returns the list of tags.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#remove_tag_from_all_message/4" translate="no">remove_tag_from_all_message(contact_id, tag_shortcode, organization_id, publish \\ true)</a>

        </div>

          <div class="summary-synopsis"><p>Remove a specific tag from contact messages</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#status_map/1" translate="no">status_map(map)</a>

        </div>

          <div class="summary-synopsis"><p>Filter all the status tag and returns as a map</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#update_contact_tag/2" translate="no">update_contact_tag(contact_tag, attrs)</a>

        </div>

          <div class="summary-synopsis"><p>Updates a contact tag.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#update_message_tag/2" translate="no">update_message_tag(message_tag, attrs)</a>

        </div>

          <div class="summary-synopsis"><p>Updates a message tag.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#update_tag/2" translate="no">update_tag(tag, attrs)</a>

        </div>

          <div class="summary-synopsis"><p>Updates a tag.</p></div>

      </div>

  </div>

  </section>


  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
        <span class="sr-only">Link to this section</span>
      </a>
Functions
    </h1>
    <div class="functions-list">
<section class="detail" id="change_contact_tag/2">

    <span id="change_contact_tag/1"></span>

  <div class="detail-header">
    <a href="#change_contact_tag/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">change_contact_tag(contact_tag, attrs \\ %{})</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L390" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> change_contact_tag(<a href="Glific.Tags.ContactTag.html#t:t/0">Glific.Tags.ContactTag.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) :: <a href="https://hexdocs.pm/ecto/3.8.4/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()</pre>

      </div>

<p>Returns an <code class="inline">%Ecto.Changeset{}</code> for tracking contact changes.</p><h2 id="change_contact_tag/2-examples" class="section-heading">
  <a href="#change_contact_tag/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">examples</p>
  </a>
  Examples
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">change_contact_tag</span><span class="p" data-group-id="2642248693-1">(</span><span class="n">contact_tag</span><span class="p" data-group-id="2642248693-1">)</span><span class="w">
</span><span class="p" data-group-id="2642248693-2">%</span><span class="nc" data-group-id="2642248693-2">Ecto.Changeset</span><span class="p" data-group-id="2642248693-2">{</span><span class="ss">data</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2642248693-3">%</span><span class="nc" data-group-id="2642248693-3">ContactTag</span><span class="p" data-group-id="2642248693-3">{</span><span class="p" data-group-id="2642248693-3">}</span><span class="p" data-group-id="2642248693-2">}</span></code></pre>
  </section>
</section>
<section class="detail" id="change_message_tag/2">

    <span id="change_message_tag/1"></span>

  <div class="detail-header">
    <a href="#change_message_tag/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">change_message_tag(message_tag, attrs \\ %{})</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L312" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> change_message_tag(<a href="Glific.Tags.MessageTag.html#t:t/0">Glific.Tags.MessageTag.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) :: <a href="https://hexdocs.pm/ecto/3.8.4/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()</pre>

      </div>

<p>Returns an <code class="inline">%Ecto.Changeset{}</code> for tracking message changes.</p><h2 id="change_message_tag/2-examples" class="section-heading">
  <a href="#change_message_tag/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">examples</p>
  </a>
  Examples
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">change_message_tag</span><span class="p" data-group-id="0164016705-1">(</span><span class="n">message_tag</span><span class="p" data-group-id="0164016705-1">)</span><span class="w">
</span><span class="p" data-group-id="0164016705-2">%</span><span class="nc" data-group-id="0164016705-2">Ecto.Changeset</span><span class="p" data-group-id="0164016705-2">{</span><span class="ss">data</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="0164016705-3">%</span><span class="nc" data-group-id="0164016705-3">MessageTag</span><span class="p" data-group-id="0164016705-3">{</span><span class="p" data-group-id="0164016705-3">}</span><span class="p" data-group-id="0164016705-2">}</span></code></pre>
  </section>
</section>
<section class="detail" id="change_tag/2">

    <span id="change_tag/1"></span>

  <div class="detail-header">
    <a href="#change_tag/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">change_tag(tag, attrs \\ %{})</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L142" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> change_tag(<a href="Glific.Tags.Tag.html#t:t/0">Glific.Tags.Tag.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) :: <a href="https://hexdocs.pm/ecto/3.8.4/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()</pre>

      </div>

<p>Returns an <code class="inline">%Ecto.Changeset{}</code> for tracking tag changes.</p><h2 id="change_tag/2-examples" class="section-heading">
  <a href="#change_tag/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">examples</p>
  </a>
  Examples
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">change_tag</span><span class="p" data-group-id="6778850316-1">(</span><span class="n">tag</span><span class="p" data-group-id="6778850316-1">)</span><span class="w">
</span><span class="p" data-group-id="6778850316-2">%</span><span class="nc" data-group-id="6778850316-2">Ecto.Changeset</span><span class="p" data-group-id="6778850316-2">{</span><span class="ss">data</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="6778850316-3">%</span><span class="nc" data-group-id="6778850316-3">Tag</span><span class="p" data-group-id="6778850316-3">{</span><span class="p" data-group-id="6778850316-3">}</span><span class="p" data-group-id="6778850316-2">}</span></code></pre>
  </section>
</section>
<section class="detail" id="count_tags/1">

  <div class="detail-header">
    <a href="#count_tags/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">count_tags(args)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L39" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> count_tags(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>()</pre>

      </div>

<p>Return the count of tags, using the same filter as list_tags</p>
  </section>
</section>
<section class="detail" id="create_contact_tag/1">

  <div class="detail-header">
    <a href="#create_contact_tag/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">create_contact_tag(attrs)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L348" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> create_contact_tag(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) ::
  {:ok, <a href="Glific.Tags.ContactTag.html#t:t/0">Glific.Tags.ContactTag.t</a>()} | {:error, <a href="https://hexdocs.pm/ecto/3.8.4/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>

      </div>

<p>Creates a contact.</p><h2 id="create_contact_tag/1-examples" class="section-heading">
  <a href="#create_contact_tag/1-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">examples</p>
  </a>
  Examples
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">create_contact_tag</span><span class="p" data-group-id="0126909889-1">(</span><span class="p" data-group-id="0126909889-2">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="0126909889-2">}</span><span class="p" data-group-id="0126909889-1">)</span><span class="w">
</span><span class="p" data-group-id="0126909889-3">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0126909889-4">%</span><span class="nc" data-group-id="0126909889-4">Contact</span><span class="p" data-group-id="0126909889-4">{</span><span class="p" data-group-id="0126909889-4">}</span><span class="p" data-group-id="0126909889-3">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">create_contact_tag</span><span class="p" data-group-id="0126909889-5">(</span><span class="p" data-group-id="0126909889-6">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="n">bad_value</span><span class="p" data-group-id="0126909889-6">}</span><span class="p" data-group-id="0126909889-5">)</span><span class="w">
</span><span class="p" data-group-id="0126909889-7">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0126909889-8">%</span><span class="nc" data-group-id="0126909889-8">Ecto.Changeset</span><span class="p" data-group-id="0126909889-8">{</span><span class="p" data-group-id="0126909889-8">}</span><span class="p" data-group-id="0126909889-7">}</span></code></pre>
  </section>
</section>
<section class="detail" id="create_message_tag/1">

  <div class="detail-header">
    <a href="#create_message_tag/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">create_message_tag(attrs)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L245" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> create_message_tag(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) ::
  {:ok, <a href="Glific.Tags.MessageTag.html#t:t/0">Glific.Tags.MessageTag.t</a>()} | {:error, <a href="https://hexdocs.pm/ecto/3.8.4/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>

      </div>

<p>Creates a message tag</p><h2 id="create_message_tag/1-examples" class="section-heading">
  <a href="#create_message_tag/1-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">examples</p>
  </a>
  Examples
</h2>
<p>iex&gt; create_message_tag(%{field: value})
{:ok, %Message{}}</p><p>iex&gt; create_message_tag(%{field: bad_value})
{:error, %Ecto.Changeset{}}</p>
  </section>
</section>
<section class="detail" id="create_tag/1">

  <div class="detail-header">
    <a href="#create_tag/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">create_tag(attrs)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L72" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> create_tag(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) :: {:ok, <a href="Glific.Tags.Tag.html#t:t/0">Glific.Tags.Tag.t</a>()} | {:error, <a href="https://hexdocs.pm/ecto/3.8.4/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>

      </div>

<p>Creates a tag.</p><h2 id="create_tag/1-examples" class="section-heading">
  <a href="#create_tag/1-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">examples</p>
  </a>
  Examples
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">create_tag</span><span class="p" data-group-id="2047644548-1">(</span><span class="p" data-group-id="2047644548-2">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="2047644548-2">}</span><span class="p" data-group-id="2047644548-1">)</span><span class="w">
</span><span class="p" data-group-id="2047644548-3">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2047644548-4">%</span><span class="nc" data-group-id="2047644548-4">Tag</span><span class="p" data-group-id="2047644548-4">{</span><span class="p" data-group-id="2047644548-4">}</span><span class="p" data-group-id="2047644548-3">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">create_tag</span><span class="p" data-group-id="2047644548-5">(</span><span class="p" data-group-id="2047644548-6">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="n">bad_value</span><span class="p" data-group-id="2047644548-6">}</span><span class="p" data-group-id="2047644548-5">)</span><span class="w">
</span><span class="p" data-group-id="2047644548-7">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2047644548-8">%</span><span class="nc" data-group-id="2047644548-8">Ecto.Changeset</span><span class="p" data-group-id="2047644548-8">{</span><span class="p" data-group-id="2047644548-8">}</span><span class="p" data-group-id="2047644548-7">}</span></code></pre>
  </section>
</section>
<section class="detail" id="create_template_tag/1">

    <span id="create_template_tag/0"></span>

  <div class="detail-header">
    <a href="#create_template_tag/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">create_template_tag(attrs \\ %{})</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L464" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> create_template_tag(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) ::
  {:ok, <a href="Glific.Tags.TemplateTag.html#t:t/0">Glific.Tags.TemplateTag.t</a>()} | {:error, <a href="https://hexdocs.pm/ecto/3.8.4/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>

      </div>

<p>Creates a template tag.</p><h2 id="create_template_tag/1-examples" class="section-heading">
  <a href="#create_template_tag/1-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">examples</p>
  </a>
  Examples
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">create_template_tag</span><span class="p" data-group-id="6427745912-1">(</span><span class="p" data-group-id="6427745912-2">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="6427745912-2">}</span><span class="p" data-group-id="6427745912-1">)</span><span class="w">
</span><span class="p" data-group-id="6427745912-3">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6427745912-4">%</span><span class="nc" data-group-id="6427745912-4">Contact</span><span class="p" data-group-id="6427745912-4">{</span><span class="p" data-group-id="6427745912-4">}</span><span class="p" data-group-id="6427745912-3">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">create_template_tag</span><span class="p" data-group-id="6427745912-5">(</span><span class="p" data-group-id="6427745912-6">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="n">bad_value</span><span class="p" data-group-id="6427745912-6">}</span><span class="p" data-group-id="6427745912-5">)</span><span class="w">
</span><span class="p" data-group-id="6427745912-7">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6427745912-8">%</span><span class="nc" data-group-id="6427745912-8">Ecto.Changeset</span><span class="p" data-group-id="6427745912-8">{</span><span class="p" data-group-id="6427745912-8">}</span><span class="p" data-group-id="6427745912-7">}</span></code></pre>
  </section>
</section>
<section class="detail" id="delete_contact_tag_by_ids/2">

  <div class="detail-header">
    <a href="#delete_contact_tag_by_ids/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">delete_contact_tag_by_ids(contact_id, tag_ids)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L445" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> delete_contact_tag_by_ids(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>(), []) :: {<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>(), nil | [<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()]}</pre>

      </div>

<p>Deletes a list of contact tags, each tag attached to the same contact</p>
  </section>
</section>
<section class="detail" id="delete_message_tag_by_ids/3">

  <div class="detail-header">
    <a href="#delete_message_tag_by_ids/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">delete_message_tag_by_ids(message_id, tag_ids, organization_id)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L291" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> delete_message_tag_by_ids(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>(), [], <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>()) ::
  {<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>(), nil | [<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()]}</pre>

      </div>

<p>In Join tables we rarely use the table id. We always know the object ids
and hence more convenient to delete an entry via its object ids.
We will generalize this function and move it to Repo.ex when we get a better
handle on how to do so :)</p>
  </section>
</section>
<section class="detail" id="delete_tag/1">

  <div class="detail-header">
    <a href="#delete_tag/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">delete_tag(tag)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L126" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> delete_tag(<a href="Glific.Tags.Tag.html#t:t/0">Glific.Tags.Tag.t</a>()) ::
  {:ok, <a href="Glific.Tags.Tag.html#t:t/0">Glific.Tags.Tag.t</a>()} | {:error, <a href="https://hexdocs.pm/ecto/3.8.4/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>

      </div>

<p>Deletes a tag.</p><h2 id="delete_tag/1-examples" class="section-heading">
  <a href="#delete_tag/1-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">examples</p>
  </a>
  Examples
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">delete_tag</span><span class="p" data-group-id="2435896792-1">(</span><span class="n">tag</span><span class="p" data-group-id="2435896792-1">)</span><span class="w">
</span><span class="p" data-group-id="2435896792-2">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2435896792-3">%</span><span class="nc" data-group-id="2435896792-3">Tag</span><span class="p" data-group-id="2435896792-3">{</span><span class="p" data-group-id="2435896792-3">}</span><span class="p" data-group-id="2435896792-2">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">delete_tag</span><span class="p" data-group-id="2435896792-4">(</span><span class="n">tag</span><span class="p" data-group-id="2435896792-4">)</span><span class="w">
</span><span class="p" data-group-id="2435896792-5">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2435896792-6">%</span><span class="nc" data-group-id="2435896792-6">Ecto.Changeset</span><span class="p" data-group-id="2435896792-6">{</span><span class="p" data-group-id="2435896792-6">}</span><span class="p" data-group-id="2435896792-5">}</span></code></pre>
  </section>
</section>
<section class="detail" id="delete_template_tag_by_ids/2">

  <div class="detail-header">
    <a href="#delete_template_tag_by_ids/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">delete_template_tag_by_ids(template_id, tag_ids)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L477" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> delete_template_tag_by_ids(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>(), []) :: {<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>(), nil | [<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()]}</pre>

      </div>

<p>Deletes a list of template tags, each tag attached to the same template</p>
  </section>
</section>
<section class="detail" id="get_all_children/2">

  <div class="detail-header">
    <a href="#get_all_children/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_all_children(shortcode, organization_id)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L201" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> get_all_children(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>()) :: [<a href="Glific.Tags.Tag.html#t:t/0">Glific.Tags.Tag.t</a>()]</pre>

      </div>

<p>Given a shortcode of tag, retrieve all the children for the tag</p>
  </section>
</section>
<section class="detail" id="get_contact_tag!/1">

  <div class="detail-header">
    <a href="#get_contact_tag!/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_contact_tag!(id)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L331" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> get_contact_tag!(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>()) :: <a href="Glific.Tags.ContactTag.html#t:t/0">Glific.Tags.ContactTag.t</a>()</pre>

      </div>

<p>Gets a single contact.</p><p>Raises <a href="https://hexdocs.pm/ecto/3.8.4/Ecto.NoResultsError.html"><code class="inline">Ecto.NoResultsError</code></a> if the Contact does not exist.</p><h2 id="get_contact_tag!/1-examples" class="section-heading">
  <a href="#get_contact_tag!/1-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">examples</p>
  </a>
  Examples
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">get_contact_tag!</span><span class="p" data-group-id="6837504821-1">(</span><span class="mi">123</span><span class="p" data-group-id="6837504821-1">)</span><span class="w">
</span><span class="p" data-group-id="6837504821-2">%</span><span class="nc" data-group-id="6837504821-2">Contact</span><span class="p" data-group-id="6837504821-2">{</span><span class="p" data-group-id="6837504821-2">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">get_contact_tag!</span><span class="p" data-group-id="6837504821-3">(</span><span class="mi">456</span><span class="p" data-group-id="6837504821-3">)</span><span class="w">
</span><span class="gt">** (Ecto.NoResultsError)</span></code></pre>
  </section>
</section>
<section class="detail" id="get_message_tag!/1">

  <div class="detail-header">
    <a href="#get_message_tag!/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_message_tag!(id)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L228" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> get_message_tag!(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>()) :: <a href="Glific.Tags.MessageTag.html#t:t/0">Glific.Tags.MessageTag.t</a>()</pre>

      </div>

<p>Gets a single message.</p><p>Raises <a href="https://hexdocs.pm/ecto/3.8.4/Ecto.NoResultsError.html"><code class="inline">Ecto.NoResultsError</code></a> if the Message does not exist.</p><h2 id="get_message_tag!/1-examples" class="section-heading">
  <a href="#get_message_tag!/1-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">examples</p>
  </a>
  Examples
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">get_message_tag!</span><span class="p" data-group-id="6318092584-1">(</span><span class="mi">123</span><span class="p" data-group-id="6318092584-1">)</span><span class="w">
</span><span class="p" data-group-id="6318092584-2">%</span><span class="nc" data-group-id="6318092584-2">Message</span><span class="p" data-group-id="6318092584-2">{</span><span class="p" data-group-id="6318092584-2">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">get_message_tag!</span><span class="p" data-group-id="6318092584-3">(</span><span class="mi">456</span><span class="p" data-group-id="6318092584-3">)</span><span class="w">
</span><span class="gt">** (Ecto.NoResultsError)</span></code></pre>
  </section>
</section>
<section class="detail" id="get_tag!/1">

  <div class="detail-header">
    <a href="#get_tag!/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_tag!(id)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L57" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> get_tag!(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>()) :: <a href="Glific.Tags.Tag.html#t:t/0">Glific.Tags.Tag.t</a>()</pre>

      </div>

<p>Gets a single tag.</p><p>Raises <a href="https://hexdocs.pm/ecto/3.8.4/Ecto.NoResultsError.html"><code class="inline">Ecto.NoResultsError</code></a> if the Tag does not exist.</p><h2 id="get_tag!/1-examples" class="section-heading">
  <a href="#get_tag!/1-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">examples</p>
  </a>
  Examples
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">get_tag!</span><span class="p" data-group-id="8922507541-1">(</span><span class="mi">123</span><span class="p" data-group-id="8922507541-1">)</span><span class="w">
</span><span class="p" data-group-id="8922507541-2">%</span><span class="nc" data-group-id="8922507541-2">Tag</span><span class="p" data-group-id="8922507541-2">{</span><span class="p" data-group-id="8922507541-2">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">get_tag!</span><span class="p" data-group-id="8922507541-3">(</span><span class="mi">456</span><span class="p" data-group-id="8922507541-3">)</span><span class="w">
</span><span class="gt">** (Ecto.NoResultsError)</span></code></pre>
  </section>
</section>
<section class="detail" id="include_all_ancestors/1">

  <div class="detail-header">
    <a href="#include_all_ancestors/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">include_all_ancestors(tag_id)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L184" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> include_all_ancestors(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>() | [<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>()]) :: [
  <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>()
]</pre>

      </div>

<p>Given a tag id or a list of tag ids, retrieve all the ancestors for the list_tags</p>
  </section>
</section>
<section class="detail" id="keyword_map/1">

  <div class="detail-header">
    <a href="#keyword_map/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">keyword_map(map)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L150" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> keyword_map(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()</pre>

      </div>

<p>Converts all tag kewords into the map where keyword is the key and tag id is the value</p>
  </section>
</section>
<section class="detail" id="list_tags/1">

  <div class="detail-header">
    <a href="#list_tags/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">list_tags(args)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L32" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> list_tags(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) :: [<a href="Glific.Tags.Tag.html#t:t/0">Glific.Tags.Tag.t</a>()]</pre>

      </div>

<p>Returns the list of tags.</p><h2 id="list_tags/1-examples" class="section-heading">
  <a href="#list_tags/1-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">examples</p>
  </a>
  Examples
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">list_tags</span><span class="p" data-group-id="5894598883-1">(</span><span class="p" data-group-id="5894598883-1">)</span><span class="w">
</span><span class="p" data-group-id="5894598883-2">[</span><span class="p" data-group-id="5894598883-3">%</span><span class="nc" data-group-id="5894598883-3">Tag</span><span class="p" data-group-id="5894598883-3">{</span><span class="p" data-group-id="5894598883-3">}</span><span class="p">,</span><span class="w"> </span><span class="n">...</span><span class="p" data-group-id="5894598883-2">]</span></code></pre>
  </section>
</section>
<section class="detail" id="remove_tag_from_all_message/4">

    <span id="remove_tag_from_all_message/3"></span>

  <div class="detail-header">
    <a href="#remove_tag_from_all_message/4" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">remove_tag_from_all_message(contact_id, tag_shortcode, organization_id, publish \\ true)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L398" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> remove_tag_from_all_message(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>(), <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>()) ::
  <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">list</a>()</pre>

          <pre translate="no"><span class="attribute">@spec</span> remove_tag_from_all_message(
  <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>(),
  [<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()],
  <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>(),
  <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>()
) :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">list</a>()</pre>

      </div>

<p>Remove a specific tag from contact messages</p>
  </section>
</section>
<section class="detail" id="status_map/1">

  <div class="detail-header">
    <a href="#status_map/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">status_map(map)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L171" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> status_map(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) :: %{required(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()) =&gt; <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>()}</pre>

      </div>

<p>Filter all the status tag and returns as a map</p>
  </section>
</section>
<section class="detail" id="update_contact_tag/2">

  <div class="detail-header">
    <a href="#update_contact_tag/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">update_contact_tag(contact_tag, attrs)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L374" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> update_contact_tag(<a href="Glific.Tags.ContactTag.html#t:t/0">Glific.Tags.ContactTag.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) ::
  {:ok, <a href="Glific.Tags.ContactTag.html#t:t/0">Glific.Tags.ContactTag.t</a>()} | {:error, <a href="https://hexdocs.pm/ecto/3.8.4/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>

      </div>

<p>Updates a contact tag.</p><h2 id="update_contact_tag/2-examples" class="section-heading">
  <a href="#update_contact_tag/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">examples</p>
  </a>
  Examples
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">update_contact_tag</span><span class="p" data-group-id="8773296332-1">(</span><span class="n">contact_tag</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8773296332-2">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="n">new_value</span><span class="p" data-group-id="8773296332-2">}</span><span class="p" data-group-id="8773296332-1">)</span><span class="w">
</span><span class="p" data-group-id="8773296332-3">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8773296332-4">%</span><span class="nc" data-group-id="8773296332-4">ContactTag</span><span class="p" data-group-id="8773296332-4">{</span><span class="p" data-group-id="8773296332-4">}</span><span class="p" data-group-id="8773296332-3">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">update_contact_tag</span><span class="p" data-group-id="8773296332-5">(</span><span class="n">contact_tag</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8773296332-6">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="n">bad_value</span><span class="p" data-group-id="8773296332-6">}</span><span class="p" data-group-id="8773296332-5">)</span><span class="w">
</span><span class="p" data-group-id="8773296332-7">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8773296332-8">%</span><span class="nc" data-group-id="8773296332-8">Ecto.Changeset</span><span class="p" data-group-id="8773296332-8">{</span><span class="p" data-group-id="8773296332-8">}</span><span class="p" data-group-id="8773296332-7">}</span></code></pre>
  </section>
</section>
<section class="detail" id="update_message_tag/2">

  <div class="detail-header">
    <a href="#update_message_tag/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">update_message_tag(message_tag, attrs)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L278" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> update_message_tag(<a href="Glific.Tags.MessageTag.html#t:t/0">Glific.Tags.MessageTag.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) ::
  {:ok, <a href="Glific.Tags.MessageTag.html#t:t/0">Glific.Tags.MessageTag.t</a>()} | {:error, <a href="https://hexdocs.pm/ecto/3.8.4/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>

      </div>

<p>Updates a message tag.</p><h2 id="update_message_tag/2-examples" class="section-heading">
  <a href="#update_message_tag/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">examples</p>
  </a>
  Examples
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">update_message_tag</span><span class="p" data-group-id="9211662724-1">(</span><span class="n">message_tag</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9211662724-2">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="n">new_value</span><span class="p" data-group-id="9211662724-2">}</span><span class="p" data-group-id="9211662724-1">)</span><span class="w">
</span><span class="p" data-group-id="9211662724-3">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9211662724-4">%</span><span class="nc" data-group-id="9211662724-4">MessageTag</span><span class="p" data-group-id="9211662724-4">{</span><span class="p" data-group-id="9211662724-4">}</span><span class="p" data-group-id="9211662724-3">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">update_message_tag</span><span class="p" data-group-id="9211662724-5">(</span><span class="n">message_tag</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9211662724-6">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="n">bad_value</span><span class="p" data-group-id="9211662724-6">}</span><span class="p" data-group-id="9211662724-5">)</span><span class="w">
</span><span class="p" data-group-id="9211662724-7">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9211662724-8">%</span><span class="nc" data-group-id="9211662724-8">Ecto.Changeset</span><span class="p" data-group-id="9211662724-8">{</span><span class="p" data-group-id="9211662724-8">}</span><span class="p" data-group-id="9211662724-7">}</span></code></pre>
  </section>
</section>
<section class="detail" id="update_tag/2">

  <div class="detail-header">
    <a href="#update_tag/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">update_tag(tag, attrs)</h1>

      <a href="https://github.com/glific/glific/blob/main/lib/glific/tags.ex#L105" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> update_tag(<a href="Glific.Tags.Tag.html#t:t/0">Glific.Tags.Tag.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) ::
  {:ok, <a href="Glific.Tags.Tag.html#t:t/0">Glific.Tags.Tag.t</a>()} | {:error, <a href="https://hexdocs.pm/ecto/3.8.4/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>

      </div>

<p>Updates a tag.</p><h2 id="update_tag/2-examples" class="section-heading">
  <a href="#update_tag/2-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">examples</p>
  </a>
  Examples
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">update_tag</span><span class="p" data-group-id="1138277327-1">(</span><span class="n">tag</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1138277327-2">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="n">new_value</span><span class="p" data-group-id="1138277327-2">}</span><span class="p" data-group-id="1138277327-1">)</span><span class="w">
</span><span class="p" data-group-id="1138277327-3">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1138277327-4">%</span><span class="nc" data-group-id="1138277327-4">Tag</span><span class="p" data-group-id="1138277327-4">{</span><span class="p" data-group-id="1138277327-4">}</span><span class="p" data-group-id="1138277327-3">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="n">update_tag</span><span class="p" data-group-id="1138277327-5">(</span><span class="n">tag</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1138277327-6">%{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="n">bad_value</span><span class="p" data-group-id="1138277327-6">}</span><span class="p" data-group-id="1138277327-5">)</span><span class="w">
</span><span class="p" data-group-id="1138277327-7">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1138277327-8">%</span><span class="nc" data-group-id="1138277327-8">Ecto.Changeset</span><span class="p" data-group-id="1138277327-8">{</span><span class="p" data-group-id="1138277327-8">}</span><span class="p" data-group-id="1138277327-7">}</span></code></pre>
  </section>
</section>

    </div>
  </section>

      <footer class="footer">

          <p>
            On Hex.pm:

            <span class="line">
              <a href="https://hex.pm/packages/glific/4.6.8" class="line footer-hex-package">Package</a>
              <a href="https://preview.hex.pm/preview/glific/4.6.8" class="line">Preview</a>

                <a href="https://preview.hex.pm/preview/glific/4.6.8/show/lib/glific/tags.ex">(current file)</a>

            </span>

            <button class="line footer-button display-quick-switch">
              Search
            </button>
          </p>

        <p>
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.28.4) for the

            <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
